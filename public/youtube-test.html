<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube é€£çµè¨ºæ–·å·¥å…·</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
        .result { margin: 10px 0; padding: 10px; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
        img { max-width: 100%; height: auto; border: 1px solid #ddd; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>ğŸ” YouTube é€£çµè¨ºæ–·å·¥å…·</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ æ¸¬è©¦è³‡è¨Š</h2>
        <p><strong>æ‚¨çš„ YouTube é€£çµï¼š</strong> <code>https://youtu.be/gZPIG8xRXw</code></p>
        <p><strong>æå–çš„å½±ç‰‡ IDï¼š</strong> <code id="videoId">gZPIG8xRXw</code></p>
        <p><strong>å½±ç‰‡ ID é•·åº¦ï¼š</strong> <span id="idLength">10</span> å­—ç¬¦ (æ¨™æº–æ‡‰ç‚º 11 å­—ç¬¦)</p>
        <p><strong>ç¸®åœ– URLï¼š</strong> <code id="thumbnailUrl">https://img.youtube.com/vi/gZPIG8xRXw/mqdefault.jpg</code></p>
    </div>

    <div class="test-section">
        <h2>ğŸ–¼ï¸ ç¸®åœ–æ¸¬è©¦</h2>
        <button onclick="testThumbnail()">æ¸¬è©¦ç¸®åœ–</button>
        <div id="thumbnailResult"></div>
        <div id="thumbnailDisplay"></div>
    </div>

    <div class="test-section">
        <h2>ğŸ”— é€£çµæ¸¬è©¦</h2>
        <button onclick="testVideoLink()">æ¸¬è©¦å½±ç‰‡é€£çµ</button>
        <button onclick="openVideo()">ç›´æ¥é–‹å•Ÿå½±ç‰‡</button>
        <div id="linkResult"></div>
    </div>

    <div class="test-section">
        <h2>âœ… å°æ¯”æ¸¬è©¦ - æœ‰æ•ˆçš„ YouTube å½±ç‰‡</h2>
        <p><strong>æ¸¬è©¦å½±ç‰‡ï¼š</strong> Rick Astley - Never Gonna Give You Up</p>
        <p><strong>å½±ç‰‡ IDï¼š</strong> <code>dQw4w9WgXcQ</code> (11 å­—ç¬¦)</p>
        <button onclick="testValidVideo()">æ¸¬è©¦æœ‰æ•ˆå½±ç‰‡</button>
        <div id="validResult"></div>
        <div id="validDisplay"></div>
    </div>

    <script>
        const videoId = 'gZPIG8xRXw';
        const validVideoId = 'dQw4w9WgXcQ';
        const thumbnailUrl = `https://img.youtube.com/vi/${videoId}/mqdefault.jpg`;
        const validThumbnailUrl = `https://img.youtube.com/vi/${validVideoId}/mqdefault.jpg`;

        function showResult(containerId, type, message) {
            const container = document.getElementById(containerId);
            container.innerHTML = `<div class="result ${type}">${message}</div>`;
        }

        async function testThumbnail() {
            showResult('thumbnailResult', 'warning', 'â³ æ¸¬è©¦ç¸®åœ–ä¸­...');
            
            try {
                const response = await fetch(thumbnailUrl, { method: 'HEAD' });
                if (response.ok) {
                    showResult('thumbnailResult', 'success', `âœ… ç¸®åœ–å¯ç”¨ (HTTP ${response.status})`);
                    document.getElementById('thumbnailDisplay').innerHTML = `<img src="${thumbnailUrl}" alt="YouTube ç¸®åœ–">`;
                } else {
                    showResult('thumbnailResult', 'error', `âŒ ç¸®åœ–ä¸å¯ç”¨ (HTTP ${response.status}) - å½±ç‰‡å¯èƒ½ä¸å­˜åœ¨æˆ–ç‚ºç§äººå½±ç‰‡`);
                    document.getElementById('thumbnailDisplay').innerHTML = '';
                }
            } catch (error) {
                showResult('thumbnailResult', 'error', `âŒ ç¶²è·¯éŒ¯èª¤: ${error.message}`);
            }
        }

        async function testVideoLink() {
            const videoUrl = `https://youtu.be/${videoId}`;
            showResult('linkResult', 'warning', `â³ æ¸¬è©¦å½±ç‰‡é€£çµ: ${videoUrl}`);
            
            try {
                const response = await fetch(videoUrl, { mode: 'no-cors' });
                showResult('linkResult', 'success', 'âœ… é€£çµå¯è¨ªå• (è«‹é»æ“Š "ç›´æ¥é–‹å•Ÿå½±ç‰‡" é€²è¡Œå¯¦éš›æ¸¬è©¦)');
            } catch (error) {
                showResult('linkResult', 'error', `âŒ é€£çµæ¸¬è©¦å¤±æ•—: ${error.message}`);
            }
        }

        function openVideo() {
            const videoUrl = `https://youtu.be/${videoId}`;
            window.open(videoUrl, '_blank');
            showResult('linkResult', 'warning', 'ğŸ”— å·²é–‹å•Ÿå½±ç‰‡é€£çµï¼Œè«‹æª¢æŸ¥æ˜¯å¦é¡¯ç¤º "å½±ç‰‡ä¸å­˜åœ¨" æˆ–å…¶ä»–éŒ¯èª¤è¨Šæ¯');
        }

        async function testValidVideo() {
            showResult('validResult', 'warning', 'â³ æ¸¬è©¦æœ‰æ•ˆå½±ç‰‡ç¸®åœ–...');
            
            try {
                const response = await fetch(validThumbnailUrl, { method: 'HEAD' });
                if (response.ok) {
                    showResult('validResult', 'success', `âœ… æœ‰æ•ˆå½±ç‰‡ç¸®åœ–è¼‰å…¥æˆåŠŸ (HTTP ${response.status})`);
                    document.getElementById('validDisplay').innerHTML = `<img src="${validThumbnailUrl}" alt="æœ‰æ•ˆçš„ YouTube ç¸®åœ–">`;
                } else {
                    showResult('validResult', 'error', `âŒ æœ‰æ•ˆå½±ç‰‡ç¸®åœ–å¤±æ•— (HTTP ${response.status})`);
                }
            } catch (error) {
                showResult('validResult', 'error', `âŒ ç¶²è·¯éŒ¯èª¤: ${error.message}`);
            }
        }

        // é é¢è¼‰å…¥æ™‚é¡¯ç¤ºåŸºæœ¬ä¿¡æ¯
        document.getElementById('videoId').textContent = videoId;
        document.getElementById('idLength').textContent = videoId.length;
        document.getElementById('thumbnailUrl').textContent = thumbnailUrl;
    </script>
</body>
</html>