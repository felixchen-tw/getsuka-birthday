# Firebase æ•¸æ“šç®¡ç†æŒ‡å—

## ğŸ“‹ æ•¸æ“šçµæ§‹

åœ¨ Firestore ä¸­å‰µå»º `timeline` é›†åˆï¼Œæ¯å€‹æ–‡æª”åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

### å¯¦éš›å­—æ®µçµæ§‹
- `title` (string): æ¨™é¡Œ
- `date` (timestamp): æ—¥æœŸæ™‚é–“
- `mediaType` (string): åª’é«”é¡å‹
- `link` (string): é€£çµ URL

## ğŸ¯ æ”¯æŒçš„åª’é«”é¡å‹

### YouTube å½±ç‰‡ç¯„ä¾‹ (`mediaType: 'youtube'`)
```json
{
  "title": "å‡ºé“",
  "date": "March 21, 2024 at 9:00:00 PM UTC+8",
  "mediaType": "youtube",
  "link": "https://youtu.be/gZPIG8xRXw"
}
```

### å…¶ä»–å¯èƒ½çš„ mediaType å€¼
- `youtube`: YouTube å½±ç‰‡
- `video`: ä¸€èˆ¬å½±ç‰‡
- `image`: åœ–ç‰‡
- `audio`: éŸ³é »
- `text`: ç´”æ–‡å­—

## ğŸ”§ Firebase Console æ“ä½œ

### 1. è¨ªå• Firestore
1. å‰å¾€ [Firebase Console](https://console.firebase.google.com/)
2. é¸æ“‡é …ç›® `getsuka-birthday`
3. é»æ“Šå·¦å´èœå–® "Firestore Database"

### 2. å‰µå»ºæ•¸æ“š
1. é»æ“Š "é–‹å§‹é›†åˆ"
2. é›†åˆ ID è¼¸å…¥ï¼š`timeline`
3. æ·»åŠ ç¬¬ä¸€å€‹æ–‡æª”
4. å¡«å…¥ä¸Šè¿°å­—æ®µå’Œæ•¸æ“š

### 3. å®‰å…¨è¦å‰‡è¨­ç½® - ç¦æ­¢å‰ç«¯å¯«å…¥
åœ¨ "Rules" æ¨™ç±¤ä¸­è¨­ç½®ä»¥ä¸‹è¦å‰‡ï¼Œ**å®Œå…¨ç¦æ­¢å‰ç«¯å¯«å…¥**ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // åªå…è¨±è®€å–ï¼Œå®Œå…¨ç¦æ­¢å‰ç«¯å¯«å…¥
    match /timeline/{document} {
      allow read: if true;           // å…è¨±è®€å–
      allow write: if false;         // ç¦æ­¢æ‰€æœ‰å¯«å…¥æ“ä½œ
      allow create: if false;        // ç¦æ­¢å‰µå»º
      allow update: if false;        // ç¦æ­¢æ›´æ–°
      allow delete: if false;        // ç¦æ­¢åˆªé™¤
    }
  }
}
```

**é‡è¦æé†’**ï¼š
- åªæœ‰ Firebase Console æˆ–å¾Œç«¯æœå‹™å™¨å¯ä»¥ä¿®æ”¹æ•¸æ“š
- å‰ç«¯ç¶²é å®Œå…¨ç„¡æ³•é€²è¡Œä»»ä½•å¯«å…¥æ“ä½œ
- é€™ç¢ºä¿äº†æ•¸æ“šçš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§

## ğŸ“¸ åœ–ç‰‡è¨—ç®¡å»ºè­°

### é¸é … 1: Firebase Storage
1. åœ¨ Firebase Console ä¸­å•Ÿç”¨ Storage
2. ä¸Šå‚³åœ–ç‰‡ç²å¾—ä¸‹è¼‰ URL
3. åœ¨ Firestore ä¸­ä½¿ç”¨è©² URL

### é¸é … 2: ç¬¬ä¸‰æ–¹æœå‹™
- **Unsplash**: å…è²»é«˜è³ªé‡åœ–ç‰‡
  - æ ¼å¼ï¼š`https://images.unsplash.com/photo-{ID}?w=500&h=300&fit=crop`
- **Cloudinary**: åœ–ç‰‡è™•ç†æœå‹™
- **Imgur**: åœ–ç‰‡è¨—ç®¡

### é¸é … 3: è‡ªå·±çš„æœå‹™å™¨
å°‡åœ–ç‰‡ä¸Šå‚³åˆ°æ‚¨çš„æœå‹™å™¨ï¼Œä½¿ç”¨çµ•å° URL

## ğŸ¥ YouTube å½±ç‰‡æ”¯æŒ

ç³»çµ±æœƒè‡ªå‹•ï¼š
1. å¾ YouTube URL æå–å½±ç‰‡ ID
2. ç”Ÿæˆç¸®åœ– URLï¼š`https://img.youtube.com/vi/{VIDEO_ID}/mqdefault.jpg`
3. é¡¯ç¤ºæ’­æ”¾æŒ‰éˆ•è¦†è“‹å±¤
4. é»æ“Šå¾Œå°å‘ YouTube åŸå§‹å½±ç‰‡

æ”¯æŒçš„ YouTube URL æ ¼å¼ï¼š
- `https://www.youtube.com/watch?v=VIDEO_ID`
- `https://youtu.be/VIDEO_ID`
- `https://www.youtube.com/embed/VIDEO_ID`

### YouTube ç–‘é›£æ’è§£

å¦‚æœ YouTube å½±ç‰‡ç„¡æ³•æ­£ç¢ºé¡¯ç¤ºï¼š

1. **æª¢æŸ¥å½±ç‰‡ ID æ ¼å¼**ï¼š
   - æ¨™æº– YouTube å½±ç‰‡ ID æ‡‰è©²æ˜¯ 11 å€‹å­—ç¬¦
   - ä¾‹å¦‚ï¼šdQw4w9WgXcQ

2. **æ›´æ–°å½±ç‰‡é€£çµ**ï¼š
   - âœ… æ­£ç¢ºçš„å½±ç‰‡é€£çµï¼šhttps://youtu.be/gZPl4G8xRXw
   - âŒ èˆŠçš„éŒ¯èª¤é€£çµï¼šhttps://youtu.be/gZPIG8xRXw ï¼ˆç¼ºå°‘å­—ç¬¦ï¼‰

3. **æ¸¬è©¦ç¸®åœ–å¯ç”¨æ€§**ï¼š
   ```bash
   curl -I "https://img.youtube.com/vi/æ‚¨çš„å½±ç‰‡ID/mqdefault.jpg"
   ```

4. **æ”¯æ´çš„ URL æ ¼å¼**ï¼š
   - https://youtu.be/å½±ç‰‡ID
   - https://www.youtube.com/watch?v=å½±ç‰‡ID

### å¦‚ä½•æ›´æ–° Firebase ä¸­çš„å½±ç‰‡é€£çµ

è«‹æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿæ›´æ–° Firebase Firestore ä¸­çš„å½±ç‰‡é€£çµï¼š

1. **ç™»å…¥ Firebase Console**ï¼š
   - è¨ªå• https://console.firebase.google.com/
   - é¸æ“‡æ‚¨çš„å°ˆæ¡ˆ

2. **é€²å…¥ Firestore Database**ï¼š
   - é»æ“Šå·¦å´é¸å–®çš„ "Firestore Database"
   - æ‰¾åˆ° `timeline` é›†åˆ

3. **æ‰¾åˆ°å½±ç‰‡æ–‡ä»¶**ï¼š
   - åœ¨ timeline é›†åˆä¸­æ‰¾åˆ°åŒ…å« YouTube å½±ç‰‡çš„æ–‡ä»¶
   - é€šå¸¸æ–‡ä»¶ ID é¡ä¼¼ `2024-12-24` æˆ–å…¶ä»–æ—¥æœŸæ ¼å¼

4. **æ›´æ–°å½±ç‰‡é€£çµ**ï¼š
   - é»æ“Šè¦ç·¨è¼¯çš„æ–‡ä»¶
   - æ‰¾åˆ° `media` æˆ– `youtubeUrl` æ¬„ä½
   - å°‡èˆŠé€£çµ `https://youtu.be/gZPIG8xRXw` æ›´æ–°ç‚º `https://youtu.be/gZPl4G8xRXw`
   - é»æ“Š "æ›´æ–°" æŒ‰éˆ•å„²å­˜è®Šæ›´

5. **é©—è­‰è®Šæ›´**ï¼š
   - é‡æ–°æ•´ç†æ‚¨çš„ç¶²ç«™
   - æ‡‰è©²å¯ä»¥çœ‹åˆ°æ­£ç¢ºçš„ YouTube ç¸®åœ–å’Œé€£çµ

## ğŸ“± å‰ç«¯é¡¯ç¤ºæ•ˆæœ

### YouTube å½±ç‰‡
- é¡¯ç¤ºå½±ç‰‡ç¸®åœ–
- æ’­æ”¾æŒ‰éˆ•è¦†è“‹å±¤
- æ‡¸åœç¸®æ”¾æ•ˆæœ
- é»æ“Šè·³è½‰åˆ° YouTube

### åœ–ç‰‡
- éŸ¿æ‡‰å¼åœ–ç‰‡é¡¯ç¤º
- æ‡¸åœè¼•å¾®ç¸®æ”¾
- åŠ è¼‰å¤±æ•—è‡ªå‹•éš±è—
- çµ±ä¸€å°ºå¯¸æ¯”ä¾‹

### å…¶ä»–ä¿¡æ¯
- æ¨™é¡Œå’Œåª’é«”é¡å‹å¾½ç« 
- æ—¥æœŸæ™‚é–“æ ¼å¼åŒ–
- åœ°é»ä¿¡æ¯
- æè¿°æ–‡å­—
- æ¨™ç±¤é›²
- å¤–éƒ¨é€£çµ

## ğŸ”„ æ•¸æ“šåŒæ­¥

- ä½¿ç”¨ Firebase å¯¦æ™‚ç›£è½å™¨
- æ•¸æ“šæ›´æ–°è‡ªå‹•åŒæ­¥åˆ°å‰ç«¯
- ç„¡éœ€åˆ·æ–°é é¢
- æ”¯æŒå¤šè¨­å‚™åŒæ™‚æŸ¥çœ‹

## âš ï¸ æ³¨æ„äº‹é …

1. **å®‰å…¨æ€§**: å‰ç«¯ç„¡æ³•ä¿®æ”¹æ•¸æ“šï¼Œåªèƒ½è®€å–
2. **æ€§èƒ½**: åœ–ç‰‡å»ºè­°å£“ç¸®å¾Œä¸Šå‚³
3. **æ ¼å¼**: æ—¥æœŸä½¿ç”¨ ISO 8601 æ ¼å¼
4. **é †åº**: æŒ‰æ—¥æœŸé™åºæ’åˆ—é¡¯ç¤º
5. **éŒ¯èª¤**: åœ–ç‰‡åŠ è¼‰å¤±æ•—æœƒè‡ªå‹•éš±è—

## ğŸš€ å¿«é€Ÿæ·»åŠ ç¤ºä¾‹æ•¸æ“š

### âš ï¸ ç•¶å‰å½±ç‰‡å•é¡Œ
æ‚¨çš„å½±ç‰‡ `gZPIG8xRXw` ä¼¼ä¹ä¸å­˜åœ¨æˆ–ä¸å¯ç”¨ã€‚å»ºè­°ï¼š

1. **æª¢æŸ¥åŸå§‹å½±ç‰‡**ï¼šè¨ªå• https://youtu.be/gZPIG8xRXw ç¢ºèªå½±ç‰‡ç‹€æ…‹
2. **ä½¿ç”¨æ¸¬è©¦å½±ç‰‡**ï¼šå…ˆç”¨å·²çŸ¥æœ‰æ•ˆçš„å½±ç‰‡æ¸¬è©¦åŠŸèƒ½

### ğŸ”§ è‡¨æ™‚æ¸¬è©¦ç”¨å½±ç‰‡

åœ¨ Firebase Console ä¸­å¯ä»¥æ·»åŠ ä»¥ä¸‹**æœ‰æ•ˆçš„æ¸¬è©¦å½±ç‰‡**ï¼š

```javascript
// æ¸¬è©¦ç”¨å½±ç‰‡ 1 - Rick Astley (ç¶“å…¸æ¸¬è©¦å½±ç‰‡)
{
  title: "Never Gonna Give You Up",
  date: new Date("2024-03-21T21:00:00+08:00"),
  mediaType: "youtube",
  link: "https://youtu.be/dQw4w9WgXcQ"
}

// æ¸¬è©¦ç”¨å½±ç‰‡ 2 - çŸ­å½±ç‰‡
{
  title: "YouTube Shorts æ¸¬è©¦",
  date: new Date("2024-03-20T15:30:00+08:00"),
  mediaType: "youtube",
  link: "https://youtu.be/jNQXAC9IVRw"
}

// æ‚¨çš„åŸå§‹å½±ç‰‡ (ç›®å‰æœ‰å•é¡Œ)
{
  title: "å‡ºé“",
  date: new Date("2024-03-21T21:00:00+08:00"),
  mediaType: "youtube",
  link: "https://youtu.be/gZPIG8xRXw"  // âš ï¸ å¯èƒ½ç„¡æ•ˆ
}
```

### ğŸ› ï¸ æ›¿æ›æ­¥é©Ÿ

1. åœ¨ Firebase Console ä¸­ç·¨è¼¯æ‚¨çš„æ–‡æª”
2. å°‡ `link` å­—æ®µæš«æ™‚æ”¹ç‚ºæ¸¬è©¦å½±ç‰‡
3. ç¢ºèªåŠŸèƒ½æ­£å¸¸å¾Œï¼Œå†æŸ¥æ‰¾æ­£ç¢ºçš„å½±ç‰‡é€£çµ